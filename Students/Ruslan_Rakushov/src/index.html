<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <title>ReactGram</title>
  <link rel="manifest" href="manifest/manifest.json">
</head>
<body>
  <!-- <h1>GeekBrains - ReactJS ...</h1> -->
  <div id="app" class="app"></div>

  <script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                // Registration was successful
                console.log('ServiceWorker успешно зарегистрирован со сферой действия: ', registration.scope);
                }, function(err) {
                // registration failed :(
                console.log('ServiceWorker не удалось зарегистрировать: ', err);
            }).catch(function(err) {
                console.log(err)
            });
        });
    } else {
        console.log('ServiceWorker не поддерживается');
    }
 </script>
 <script>
   window.addEventListener('appinstalled', (evt) => {
     fetch('/api/install', {
       method: 'GET',
       credentials: 'include',
      });
    });
    </script>
  <script defer src="./notifications.js"></script>
</body>
</html>
